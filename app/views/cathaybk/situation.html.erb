







<div class="situation">





    <%= video_tag(
                'Cathay.mp4',
                autoplay: true,
                size: "400x300",
                loop: true,
                muted: true,
                class: "video"
              )
              %>





    <div id="geolocation" style="width:100%;height:400px;border-style: solid;
    border-color: #18A853;">地圖預留</div>
    <script type="text/javascript">
      var handler = Gmaps.build('Google');
        handler.buildMap({ internal: {id: 'geolocation'} }, function(){
      // be aware chrome >= 50 requires https for geolocation to work
        if(navigator.geolocation)
          navigator.geolocation.getCurrentPosition(displayOnMap);
      
      
     
        });

      function displayOnMap(position){
        var marker = handler.addMarker({
          lat: position.coords.latitude,
          lng: position.coords.longitude
        });

       

        markers = handler.addMarkers(<%= raw @hash.to_json %>);
          handler.bounds.extendWith(markers);
          handler.fitMapToBounds();
           handler.map.centerOn(marker);
         
          center: marker;
      };
    </script>

  </div>
</div>


